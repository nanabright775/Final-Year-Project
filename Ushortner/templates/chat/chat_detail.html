{% extends 'basehome/base.html' %}

{% block title %}Chat with {{ user.username }}{% endblock %}

{% block content %}
<div class="p-10 sm:ml-64 h-screen flex flex-col">
    <div class="flex-none">
        <h1 class="text-center text-3xl font-bold text-gray-900 mb-8">Chat with {{ user.username }}</h1>
    </div>

    <div class="flex-1 overflow-y-auto p-4 space-y-4 mb-24 ">
        {% for message in messages %}
            <div class="{% if message.sender == request.user %}bg-blue-100 self-end{% else %}bg-gray-200 self-start{% endif %} p-4 rounded-lg max-w-lg">
                <strong>{{ message.sender.username }}</strong>: {{ message.content }}
            </div>
        {% endfor %}
    </div>

    <div class="ml-64 bg-white p-4 border-t border-gray-200 fixed bottom-0 inset-x-0">
        <form method="post" class="flex space-x-4">
            {% csrf_token %}
         
                {{ form.content }}
                <button type="submit" class="bg-blue-500 text-white px-4 py-1.5 rounded-lg hover:bg-blue-600">
                Send
              </button>
          
            
        </form>
    </div>
</div>
{% endblock %}
